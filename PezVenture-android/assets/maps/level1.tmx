<?xml version="1.0" encoding="UTF-8"?>
<map version="1.0" orientation="orthogonal" width="20" height="30" tilewidth="32" tileheight="32">
 <tileset firstgid="1" name="dark_indigo_cobblestone" tilewidth="32" tileheight="32">
  <image source="../textures/dark_indigo_cobblestone.png" width="32" height="32"/>
 </tileset>
 <tileset firstgid="2" name="dark_indigo_2" tilewidth="32" tileheight="32">
  <image source="../textures/dark_indigo_cobblestone2.png" width="32" height="32"/>
 </tileset>
 <tileset firstgid="3" name="dark_indigo_3" tilewidth="32" tileheight="32">
  <image source="../textures/dark_indigo_cobblestone3.png" width="32" height="32"/>
 </tileset>
 <tileset firstgid="4" name="block_wall" tilewidth="32" tileheight="32">
  <image source="../textures/block_wall.png" width="128" height="128"/>
 </tileset>
 <layer name="background" width="20" height="30">
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC72U2w6AMAhDN/v//6wPLiG1MNgWHxpvcEIZiNYaHl2OQOqvxvfxjAmH89Q7y7pEPMcpzVhRbpWFAjPLOuHRY0Vnmem9jbX5Xm2ZujxexaM6Y7SvhywLxAHxepHFPPbJ+zNjqblb8ejxdllqhnZY3g6vslT/dlhqXnZYzPNYlX8Zz5vaxxVZ1imt+OI8xUIQH7FOSXms9MXr/8nec43Vev5UxntlJuyOILhX/eHccb0BT2lz+2AJAAA=
  </data>
 </layer>
 <layer name="walls" width="20" height="30">
  <data encoding="base64" compression="gzip">
   H4sIAAAAAAAAC+NnYGDgwIG5GCCAHY8aZCwMxJwM1AOco+YNOvMEGPCnAVLSDC8N3Ddq3uAybzS9jJpHinmj6WXUvIE0T5CBuLYOMVgIiAF+oGlOYAkAAA==
  </data>
 </layer>
 <objectgroup name="enemy" width="20" height="30">
  <object name="enemy1" type="blue_enemy" x="85" y="591" width="32" height="32">
   <properties>
    <property name="dir" value="right"/>
   </properties>
  </object>
  <object name="enemy2" type="blue_enemy" x="523" y="584" width="32" height="32">
   <properties>
    <property name="dir" value="left"/>
   </properties>
  </object>
  <object name="enemy3" type="blue_enemy" x="288" y="515" width="32" height="32">
   <properties>
    <property name="dir" value="down"/>
   </properties>
  </object>
 </objectgroup>
 <objectgroup name="environment" width="20" height="30">
  <object name="jar" type="jar" x="32" y="320" width="32" height="32">
   <properties>
    <property name="color" value="blue"/>
   </properties>
  </object>
  <object name="jar" type="jar" x="576" y="320" width="32" height="32">
   <properties>
    <property name="color" value="red"/>
   </properties>
  </object>
 </objectgroup>
 <objectgroup name="rooms" width="20" height="30" visible="0">
  <object name="room1" type="room" x="0" y="672" width="640" height="288"/>
  <object name="room2" type="room" x="0" y="448" width="640" height="256"/>
  <object name="room3" type="room" x="0" y="224" width="640" height="256"/>
 </objectgroup>
 <objectgroup name="map_links" width="20" height="30">
  <object name="to_puzzle_room" type="door" x="256" y="0" width="32" height="32">
   <properties>
    <property name="dest_link" value="entrance"/>
    <property name="dest_map" value="puzzle_room"/>
    <property name="entrance_dir" value="down"/>
    <property name="switch" value="switch3 switch4"/>
   </properties>
  </object>
  <object name="player_start" type="map_link" x="51" y="874" width="32" height="32">
   <properties>
    <property name="entrance_dir" value="up"/>
   </properties>
  </object>
 </objectgroup>
 <objectgroup name="blocks" width="20" height="30">
  <object name="block" type="block" x="224" y="800" width="32" height="32"/>
  <object name="block" type="block" x="288" y="800" width="32" height="32"/>
  <object name="block" type="block" x="352" y="800" width="32" height="32">
   <properties>
    <property name="moveable" value="true"/>
   </properties>
  </object>
  <object name="block" type="block" x="96" y="800" width="32" height="32"/>
  <object name="block" type="block" x="480" y="800" width="32" height="32"/>
  <object name="block" type="block" x="416" y="800" width="32" height="32"/>
  <object name="block" type="block" x="160" y="800" width="32" height="32">
   <properties>
    <property name="moveable" value="true"/>
   </properties>
  </object>
  <object name="block" type="block" x="160" y="320" width="32" height="32"/>
  <object name="block" type="block" x="256" y="320" width="32" height="32"/>
  <object name="block" type="block" x="352" y="320" width="32" height="32"/>
  <object name="block" type="block" x="448" y="320" width="32" height="32"/>
 </objectgroup>
 <objectgroup name="logic" width="20" height="30">
  <object name="switch2" type="floor_switch" x="352" y="800" width="32" height="32">
   <properties>
    <property name="sticky" value="true"/>
   </properties>
  </object>
  <object name="switch1" type="floor_switch" x="160" y="800" width="32" height="32">
   <properties>
    <property name="sticky" value="true"/>
   </properties>
  </object>
  <object name="barrier1" type="barrier" x="288" y="672" width="32" height="32">
   <properties>
    <property name="switch" value="switch1 switch2"/>
   </properties>
  </object>
  <object name="barrier2" type="barrier" x="288" y="448" width="32" height="32">
   <properties>
    <property name="cleared" value="enemy1 enemy2 enemy3"/>
   </properties>
  </object>
  <object name="switch3" type="floor_switch" x="64" y="512" width="32" height="32">
   <properties>
    <property name="activating_class" value="jar"/>
   </properties>
  </object>
  <object name="switch4" type="floor_switch" x="544" y="512" width="32" height="32">
   <properties>
    <property name="activating_class" value="jar"/>
   </properties>
  </object>
 </objectgroup>
 <objectgroup name="npc" width="20" height="30">
  <object name="alice" type="stationary_npc" x="32" y="640" width="32" height="32">
   <properties>
    <property name="cleared" value="enemy1 enemy2 enemy3"/>
    <property name="dir" value="right"/>
    <property name="msg1" value="Ugh, these monsters are so mean. What am I going to do?"/>
    <property name="msg2" value="Wow, you're pretty strong. Maybe it pays to be tough. Looks like that door finally opened too. I was wondering about that."/>
    <property name="sprite" value="alice"/>
   </properties>
  </object>
  <object name="rumia" type="stationary_npc" x="32" y="160" width="32" height="32">
   <properties>
    <property name="dir" value="right"/>
    <property name="msg1" value="I just want to open the door but I can't figure out how. I'm not very good at puzzles. I don't want to get stuck here."/>
    <property name="msg2" value="Who cares how you opened it, the important thing is that I'm free!"/>
    <property name="sprite" value="tewi"/>
    <property name="switch" value="to_puzzle_room"/>
   </properties>
  </object>
  <object name="flandre" type="stationary_npc" x="576" y="160" width="32" height="32">
   <properties>
    <property name="dir" value="left"/>
    <property name="msg1" value="I've been stuck here for so long. I'm starting to think this door's never going to open."/>
    <property name="msg2" value="How did the door open like that? I tried stepping on the switches but it wouldn't open for me. Maybe I broke it too?"/>
    <property name="sprite" value="flandre"/>
    <property name="switch" value="to_puzzle_room"/>
   </properties>
  </object>
  <object name="tewi" type="stationary_npc" x="32" y="704" width="32" height="32">
   <properties>
    <property name="dir" value="down"/>
    <property name="msg1" value="Some of these blocks are pretty heavy. I wish I was stong enough to move them."/>
    <property name="msg2" value="How did you do that!? I can't believe you're smarter and stronger than I am..."/>
    <property name="sprite" value="tewi"/>
    <property name="switch" value="barrier1"/>
   </properties>
  </object>
 </objectgroup>
</map>
